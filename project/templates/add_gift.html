{% extends "base.html" %}

{% block content %}
<div class="column is-8 is-offset-2">
    <h3 class="title">Add Gift</h3>
    <div class="box">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="notification is-danger">
                    {{ messages[0] }}. Go to <a href="{{ url_for('auth.login') }}">login page</a>.
                </div>
            {% endif %}
        {% endwith %}
        
        <form method="POST" action="/add_gift">
            <div class="field">
                <label class="label">For</label>
                <div class="control">
                    <div class="select">
                        <select name="giftee">
                            <option value="{{ self_id }}">Myself</option>
                            {% for user in users %}
                            {% if user.id != self_id %}
                            <option value="{{ user.id }}">{{ user.name }} ({{ user.email}})</option>
                            {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="field">
                <label class="label">Gift</label>
                <div class="control">
                    <input class="input" type="text" name="gift" placeholder="Gift" autofocus="">
                </div>
            </div>

            <div class="field">
                <label class="label">Details</label>
                <div class="control">
                    <textarea class="textarea" type="text" name="details" placeholder="Optional additional details" autofocus=""></textarea>
                </div>
            </div>

            <div class="field">
                <label class="label">Price</label>
                <div class="control">
                    <input class="input" type="number" name="price" placeholder="Price estimate (required)" required>
                </div>
            </div>

            <div class="field">
                <label class="label">Link</label>
                <div class="control">
                    <input class="input" type="url" name="link" placeholder="Optional link (include 'https://')">
                </div>
            </div>

            <button class="button is-block is-fullwidth is-info">Submit</button>
            
        </form>
    </div>
</div>
{% endblock %}